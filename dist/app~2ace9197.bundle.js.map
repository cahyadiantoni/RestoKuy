{"version":3,"file":"app~2ace9197.bundle.js","mappings":";mZACA,8hGAAAA,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,+XA8DA,QAzDgC,CAC9BC,KAD8B,YACiC,IAAxDC,EAAwD,EAAxDA,wBAAyBC,EAA+B,EAA/BA,4BAC9BC,KAAKC,yBAA2BH,EAChCE,KAAKE,6BAA+BH,EACpCC,KAAKG,aACN,EAEDA,YAP8B,WAQ5BH,KAAKE,6BAA6BE,WAAYC,EAAAA,EAAAA,MAC9CL,KAAKM,kBACN,EAEDA,iBAZ8B,WAYX,WACSC,SAASC,cAAc,gBAE/BC,iBAAiB,UAAU,SAACC,GAC5CA,EAAEC,iBAEF,IAAMC,EAAMC,EAAAA,EAAAA,gCACNC,EAAYP,SAASC,cAAc,cACnCO,EAAcR,SAASC,cAAc,gBACrCQ,EAAO,CACXC,GAAIL,EAAIK,GACRC,KAAMJ,EAAUK,MAChBC,OAAQL,EAAYI,OAEtB,EAAKE,aAAaL,EACnB,GACF,EAEKK,aA9BwB,SA8BXL,GAAM,uIACjBF,EAAYP,SAASC,cAAc,cACnCO,EAAcR,SAASC,cAAc,gBAFpB,SAGIc,EAAAA,EAAAA,qBAAwCN,GAH5C,cAGjBO,EAHiB,OAIjBC,EAAO,IAAIC,KACTR,EAAOD,EAAPC,GACAC,EAASF,EAATE,KACAE,EAAWJ,EAAXI,OAPe,UAQbG,EAAaG,MARA,wBAQU,IARV,sBASrB,EAAKzB,yBAAyBG,YAAauB,EAAAA,EAAAA,IAA6B,CACtEV,GAAAA,EACAC,KAAAA,EACAE,OAAAA,EACAI,KAAM,aAAF,OACFA,EAAKI,UADH,YACgBC,EAAAA,EAAAA,iBAA4BL,EAAKM,YADjD,YACgEN,EAAKO,cADrE,iBAINjB,EAAUK,MAAQ,GAClBJ,EAAYI,MAAQ,GAEpBa,MAAM,gCApBe,oCAsBrBA,MAtBqB,UAsBAT,EAAaU,QAtBb,6BAsBf,QAtBe,iOAwBxB,qSC3DH,m6MAgBA,QAfgB,gCAAG,uFACX,kBAAmBC,UADR,uBAEfC,QAAQC,IAAI,+CAFG,iCAMXC,EAAK,IAAIC,EAAAA,GAAsB,iBANpB,kBAQTD,EAAGE,WARM,OASfJ,QAAQC,IAAI,sCATG,kDAWfD,QAAQC,IAAI,kCAAZ,MAXe,wOAAH","sources":["webpack://restokuy/./src/scripts/utils/review-initiator.js","webpack://restokuy/./src/scripts/utils/sw-register.js"],"sourcesContent":["/* eslint-disable no-alert */\r\nimport RestaurantDbSource from '../data/restaurantdb-source';\r\nimport UrlParser from '../routes/url-parser';\r\nimport { createCustomerReviewFormTemplate, createCustomerReviewTemplate } from '../views/templates/template-creator';\r\nimport DateHelper from './date-helper';\r\n\r\nconst CustomerReviewInitiator = {\r\n  init({ customerReviewContainer, customerReviewFormContainer }) {\r\n    this._customerReviewContainer = customerReviewContainer;\r\n    this._customerReviewFormContainer = customerReviewFormContainer;\r\n    this._renderForm();\r\n  },\r\n\r\n  _renderForm() {\r\n    this._customerReviewFormContainer.innerHTML = createCustomerReviewFormTemplate();\r\n    this._isFormSubmitted();\r\n  },\r\n\r\n  _isFormSubmitted() {\r\n    const reviewFormElement = document.querySelector('#form-review');\r\n\r\n    reviewFormElement.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n\r\n      const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n      const inputName = document.querySelector('#inputName');\r\n      const inputReview = document.querySelector('#inputReview');\r\n      const data = {\r\n        id: url.id,\r\n        name: inputName.value,\r\n        review: inputReview.value,\r\n      };\r\n      this._makeRequest(data);\r\n    });\r\n  },\r\n\r\n  async _makeRequest(data) {\r\n    const inputName = document.querySelector('#inputName');\r\n    const inputReview = document.querySelector('#inputReview');\r\n    const responseJSON = await RestaurantDbSource.postRestaurantReview(data);\r\n    const date = new Date();\r\n    const { id } = data;\r\n    const { name } = data;\r\n    const { review } = data;\r\n    if (await responseJSON.error === false) {\r\n      this._customerReviewContainer.innerHTML += createCustomerReviewTemplate({\r\n        id,\r\n        name,\r\n        review,\r\n        date: `\r\n        ${date.getDate()} ${DateHelper.monthNameChecker(date.getMonth())} ${date.getFullYear()}\r\n         `,\r\n      });\r\n      inputName.value = '';\r\n      inputReview.value = '';\r\n\r\n      alert('Review berhasil ditambahkan!');\r\n    } else {\r\n      alert('Error', await responseJSON.message);\r\n    }\r\n  },\r\n};\r\n\r\nexport default CustomerReviewInitiator;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker tidak support di broswer ini');\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox('/sw.bundle.js');\r\n  try {\r\n    await wb.register();\r\n    console.log('Service worker berhasil registrasi');\r\n  } catch (error) {\r\n    console.log('Gagal registrasi service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["i","init","customerReviewContainer","customerReviewFormContainer","this","_customerReviewContainer","_customerReviewFormContainer","_renderForm","innerHTML","createCustomerReviewFormTemplate","_isFormSubmitted","document","querySelector","addEventListener","e","preventDefault","url","UrlParser","inputName","inputReview","data","id","name","value","review","_makeRequest","RestaurantDbSource","responseJSON","date","Date","error","createCustomerReviewTemplate","getDate","DateHelper","getMonth","getFullYear","alert","message","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}